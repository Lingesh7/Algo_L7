2021-01-29 13:45:38,482:root:Main Login Successful
2021-01-29 13:45:38,482:root:Calculating everything before executing orders..
2021-01-29 13:45:38,482:root:Calculating weekly and monthly expiry dates..
2021-01-29 13:45:38,482:root:weekly expiry is : 04Feb2021, monthly expiry is: 25Feb2021
2021-01-29 13:45:39,651:root:
 Spot price fetched as : [13735.55]
2021-01-29 13:45:39,666:root:
 Spot price fetched as : [13735.55, 30444.95]
2021-01-29 13:45:39,666:root:('StrikePrice computed as : ', 13750)
2021-01-29 13:45:40,776:root:Exchange Instrument ID : 39530, {'oty': ['CE'], 'ss': [39530]}
2021-01-29 13:45:41,995:root:Exchange Instrument ID : 39532, {'oty': ['CE', 'PE'], 'ss': [39530, 39532]}
2021-01-29 13:45:41,995:root:Checking margin from user..
2021-01-29 13:45:41,995:root:Checking balance..
2021-01-29 13:45:44,120:root:Balance retreived success, available cash : 1000000000
2021-01-29 13:45:44,120:root: 
              net_cash - 1000000000,
              strikePrice - 13750,
              Nifty LTP - 13735.55,
              BankNiftyLTP - 30444.95
              exchangeInstrumentID - [39530, 39532]
              
2021-01-29 13:45:44,120:root:All set from prepareVars func.. Giving a go for orders..
2021-01-29 13:45:44,120:root:required variables set-- ready to trigger orders at desired time
2021-01-29 13:46:00,422:root:Required Margin Available.. Taking positions...
2021-01-29 13:46:02,818:root:Main Login Successful
2021-01-29 13:46:02,833:root: 
 Placing Orders with StopLoss.. 

2021-01-29 13:46:02,896:root:Main Login Successful
2021-01-29 13:46:02,896:root:Main Login Successful
2021-01-29 13:46:02,911:root: 
 Placing Orders with StopLoss.. 

2021-01-29 13:46:02,997:root:Main Login Successful
2021-01-29 13:46:03,951:root: 
 Order ID for SELL 39530 is: 10025749 

2021-01-29 13:46:03,951:root:Retreiving OrderBook..
2021-01-29 13:46:04,093:root: 
 Order ID for SELL 39532 is: 10025750 

2021-01-29 13:46:04,093:root:Retreiving OrderBook..
2021-01-29 13:46:05,122:root:OrderBook result retreived success
2021-01-29 13:46:05,123:root:traded price is: 231.6
2021-01-29 13:46:05,123:root:
 Placing StopLoss order for 39530
2021-01-29 13:46:05,123:root:stopLoss price fixed as: 246.6
2021-01-29 13:46:05,218:root:OrderBook result retreived success
2021-01-29 13:46:05,218:root:traded price is: 233.0
2021-01-29 13:46:05,218:root:
 Placing StopLoss order for 39532
2021-01-29 13:46:05,218:root:stopLoss price fixed as: 248.0
2021-01-29 13:46:06,208:root:
  StopLoss Order ID for BUY 39530 is: 10025752 

2021-01-29 13:46:06,208:root:orderDictionary from new place order func (orderID_dict)  {39530: [39530, 10025749, 231.6, 10025752]}
2021-01-29 13:46:06,208:root: 
 new DICT  from new place order func (new_dict)  {'ss': '39530', 'qq': 75, 'oo': 10025749, 'tt': 231.6, 'sl': 10025752} 

2021-01-29 13:46:06,369:root:
  StopLoss Order ID for BUY 39532 is: 10025753 

2021-01-29 13:46:06,369:root:orderDictionary from new place order func (orderID_dict)  {39532: [39532, 10025750, 233.0, 10025753]}
2021-01-29 13:46:06,370:root: 
 new DICT  from new place order func (new_dict)  {'ss': '39532', 'qq': 75, 'oo': 10025750, 'tt': 233.0, 'sl': 10025753} 

2021-01-29 13:46:06,371:root:printing new_dictR value : [{'ss': '39530', 'qq': 75, 'oo': 10025749, 'tt': 231.6, 'sl': 10025752}, {'ss': '39532', 'qq': 75, 'oo': 10025750, 'tt': 233.0, 'sl': 10025753}]
2021-01-29 13:49:18,833:root:Login Successful
2021-01-29 13:49:18,833:root:
 Entering runSqOffLogics func,
 	 This logic runs till the end of the script and 
              checks SL/TARGET/TIMEings 

2021-01-29 13:49:18,833:root:Checking CurPnL for this strategy..
2021-01-29 13:49:20,019:root:Login Successful
2021-01-29 13:49:20,035:root:Failed to get PNL
Traceback (most recent call last):
  File "F:\Downloads\Python\First_Choice_Git\xts\strategy\Strategy_1_MDF.py", line 473, in getPnL
    df = odf.merge(eid_df, how='left')
  File "C:\Users\mling\anaconda3\lib\site-packages\pandas\core\frame.py", line 7946, in merge
    return merge(
  File "C:\Users\mling\anaconda3\lib\site-packages\pandas\core\reshape\merge.py", line 74, in merge
    op = _MergeOperation(
  File "C:\Users\mling\anaconda3\lib\site-packages\pandas\core\reshape\merge.py", line 656, in __init__
    self._maybe_coerce_merge_keys()
  File "C:\Users\mling\anaconda3\lib\site-packages\pandas\core\reshape\merge.py", line 1165, in _maybe_coerce_merge_keys
    raise ValueError(msg)
ValueError: You are trying to merge on object and int64 columns. If you wish to proceed you should use pd.concat
2021-01-29 13:57:30,919:root:Main Login Successful
2021-01-29 13:57:30,919:root:Calculating everything before executing orders..
2021-01-29 13:57:30,919:root:Calculating weekly and monthly expiry dates..
2021-01-29 13:57:30,919:root:weekly expiry is : 04Feb2021, monthly expiry is: 25Feb2021
2021-01-29 13:57:32,278:root:
 Spot price fetched as : [13749.85]
2021-01-29 13:57:32,278:root:
 Spot price fetched as : [13749.85, 30515.7]
2021-01-29 13:57:32,278:root:('StrikePrice computed as : ', 13750)
2021-01-29 13:57:33,638:root:Exchange Instrument ID : 39530, {'oty': ['CE'], 'ss': ['39530']}
2021-01-29 13:57:34,953:root:Exchange Instrument ID : 39532, {'oty': ['CE', 'PE'], 'ss': ['39530', '39532']}
2021-01-29 13:57:34,953:root:Checking margin from user..
2021-01-29 13:57:34,953:root:Checking balance..
2021-01-29 13:57:37,453:root:Balance retreived success, available cash : 1000000000
2021-01-29 13:57:37,453:root: 
              net_cash - 1000000000,
              strikePrice - 13750,
              Nifty LTP - 13749.85,
              BankNiftyLTP - 30515.7
              exchangeInstrumentID - [39530, 39532]
              
2021-01-29 13:57:37,469:root:All set from prepareVars func.. Giving a go for orders..
2021-01-29 13:58:37,891:root:Login Successful
2021-01-29 13:58:37,891:root:
 Entering runSqOffLogics func,
 	 This logic runs till the end of the script and 
              checks SL/TARGET/TIMEings 

2021-01-29 13:58:37,891:root:Checking CurPnL for this strategy..
2021-01-29 13:58:39,157:root:Login Successful
2021-01-29 13:58:39,157:root:Failed to get PNL
Traceback (most recent call last):
  File "F:\Downloads\Python\First_Choice_Git\xts\strategy\Strategy_1_MDF.py", line 471, in getPnL
    odf=pd.DataFrame(new_dictR)
NameError: name 'new_dictR' is not defined

2021-02-02 15:19:43,804:__main__:INFO:Main Login Successful
2021-02-02 15:19:43,813:__main__:INFO:Calculating everything before executing orders..
2021-02-02 15:19:43,816:__main__:INFO:Calculating weekly and monthly expiry dates..
2021-02-02 15:19:43,819:__main__:INFO:weekly expiry is : 04Feb2021, monthly expiry is: 25Feb2021
2021-02-02 15:19:44,637:__main__:INFO:StrikePrice computed as : 14650
2021-02-02 15:19:44,640:__main__:INFO:Input of get_eID fn : NIFTY, ce,04Feb2021,14650
2021-02-02 15:19:45,797:__main__:INFO:{'type': 'success', 'code': 's-rds-0', 'description': 'ok', 'result': [{'ExchangeSegment': 2, 'ExchangeInstrumentID': 39648, 'InstrumentType': 2, 'Name': 'NIFTY', 'DisplayName': 'NIFTY 04FEB2021 CE 14650', 'Description': 'NIFTY2120414650CE', 'Series': 'OPTIDX', 'InstrumentID': 2103500039648, 'PriceBand': {'High': 419.6, 'Low': 0.05, 'HighString': '419.60', 'LowString': '0.05', 'CreditRating': '0.05-419.60'}, 'FreezeQty': 5001, 'TickSize': 0.05, 'LotSize': 75, 'UnderlyingInstrumentId': -1, 'UnderlyingIndexName': 'Nifty 50', 'ContractExpiration': '2021-02-04T14:30:00', 'ContractExpirationString': '04Feb2021', 'RemainingExpiryDays': 3, 'StrikePrice': 14650, 'OptionType': 3}]}
2021-02-02 15:19:45,800:__main__:INFO:Exchange Instrument ID : 39648, {'oty': ['CE'], 'ss': ['39648']}
2021-02-02 15:19:45,802:__main__:INFO:Input of get_eID fn : NIFTY, pe,04Feb2021,14650
2021-02-02 15:19:46,887:__main__:INFO:{'type': 'success', 'code': 's-rds-0', 'description': 'ok', 'result': [{'ExchangeSegment': 2, 'ExchangeInstrumentID': 39649, 'InstrumentType': 2, 'Name': 'NIFTY', 'DisplayName': 'NIFTY 04FEB2021 PE 14650', 'Description': 'NIFTY2120414650PE', 'Series': 'OPTIDX', 'InstrumentID': 2103500039649, 'PriceBand': {'High': 1281.75, 'Low': 0.05, 'HighString': '1281.75', 'LowString': '0.05', 'CreditRating': '0.05-1281.75'}, 'FreezeQty': 5001, 'TickSize': 0.05, 'LotSize': 75, 'UnderlyingInstrumentId': -1, 'UnderlyingIndexName': 'Nifty 50', 'ContractExpiration': '2021-02-04T14:30:00', 'ContractExpirationString': '04Feb2021', 'RemainingExpiryDays': 3, 'StrikePrice': 14650, 'OptionType': 4}]}
2021-02-02 15:19:46,887:__main__:INFO:Exchange Instrument ID : 39649, {'oty': ['CE', 'PE'], 'ss': ['39648', '39649']}
2021-02-02 15:19:46,903:__main__:INFO:Checking margin from user..
2021-02-02 15:19:46,903:__main__:INFO:Checking balance..
2021-02-02 15:19:50,684:__main__:INFO:Balance retreived success, available cash : 1000000000
2021-02-02 15:19:50,684:__main__:INFO: 
              net_cash - 1000000000,
              strikePrice - 14650,
              Nifty Spot - 14649.7,
              BankNifty Spot - None
              exchangeInstrumentID - [39648, 39649]
              
2021-02-02 15:19:50,684:__main__:INFO:All set from prepareVars func.. Giving a go for orders..
2021-02-02 15:19:50,684:__main__:INFO:required variables set-- ready to trigger orders at desired time
2021-02-02 15:20:00,247:__main__:INFO:Required Margin Available.. Taking positions...
2021-02-02 15:20:02,263:__mp_main__:INFO:Main Login Successful
2021-02-02 15:20:02,279:__mp_main__:INFO:Main Login Successful
2021-02-02 15:20:02,279:__mp_main__:INFO:Placing Orders.. 

2021-02-02 15:20:02,295:__mp_main__:INFO:Placing Orders.. 

2021-02-02 15:20:02,310:__mp_main__:INFO:Main Login Successful
2021-02-02 15:20:02,310:__mp_main__:INFO:Main Login Successful
2021-02-02 15:20:03,154:__main__:INFO:printing new_dictR value : [{'ss': '39649', 'qq': 75}, {'ss': '39648', 'qq': 75}]
2021-02-02 15:20:03,373:__main__:INFO:starting multi funcs with threaded timer...
2021-02-02 15:20:03,373:__main__:INFO:--- Entering SquareOffLogic Function after placing orders ---
2021-02-02 15:20:04,842:__main__:INFO:Login Successful
2021-02-02 15:20:04,842:__main__:INFO:
 Entering runSqOffLogics func,
 	 This logic runs till the end of the script and 
              checks SL/TARGET/TIMEings 

2021-02-02 15:20:04,842:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:06,623:__main__:ERROR:Failed to get PNL
Traceback (most recent call last):
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2895, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas\_libs\index.pyx", line 70, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 101, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 1675, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 1683, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'tt'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 466, in getPnL
    df['pnl']=(df['ltp']-df['tt'])*df['qq']
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\frame.py", line 2902, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2897, in get_loc
    raise KeyError(key) from err
KeyError: 'tt'
2021-02-02 15:20:07,560:__main__:INFO:Login Successful
2021-02-02 15:20:07,560:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:09,560:__main__:ERROR:Failed to get PNL
Traceback (most recent call last):
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2895, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas\_libs\index.pyx", line 70, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 101, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 1675, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 1683, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'tt'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 466, in getPnL
    df['pnl']=(df['ltp']-df['tt'])*df['qq']
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\frame.py", line 2902, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2897, in get_loc
    raise KeyError(key) from err
KeyError: 'tt'
2021-02-02 15:20:10,310:__main__:INFO:Login Successful
2021-02-02 15:20:10,310:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:12,798:__main__:ERROR:Failed to get PNL
Traceback (most recent call last):
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2895, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas\_libs\index.pyx", line 70, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 101, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 1675, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 1683, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'tt'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 466, in getPnL
    df['pnl']=(df['ltp']-df['tt'])*df['qq']
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\frame.py", line 2902, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2897, in get_loc
    raise KeyError(key) from err
KeyError: 'tt'
2021-02-02 15:20:13,939:__main__:INFO:Login Successful
2021-02-02 15:20:13,939:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:14,095:__main__:ERROR:Unable to getSpot from index
Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 153, in getSpot
    listQuotes = json.loads(spot_resp['result']['listQuotes'][i])
KeyError: 'result'
2021-02-02 15:20:15,861:__main__:ERROR:Failed to get PNL
Traceback (most recent call last):
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2895, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas\_libs\index.pyx", line 70, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 101, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 1675, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 1683, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'tt'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 466, in getPnL
    df['pnl']=(df['ltp']-df['tt'])*df['qq']
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\frame.py", line 2902, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2897, in get_loc
    raise KeyError(key) from err
KeyError: 'tt'
2021-02-02 15:20:16,689:__main__:INFO:Login Successful
2021-02-02 15:20:16,689:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:18,533:__main__:ERROR:Failed to get PNL
Traceback (most recent call last):
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2895, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas\_libs\index.pyx", line 70, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 101, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 1675, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 1683, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'tt'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 466, in getPnL
    df['pnl']=(df['ltp']-df['tt'])*df['qq']
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\frame.py", line 2902, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2897, in get_loc
    raise KeyError(key) from err
KeyError: 'tt'
2021-02-02 15:20:19,298:__main__:INFO:Login Successful
2021-02-02 15:20:19,298:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:21,626:__main__:ERROR:Failed to get PNL
Traceback (most recent call last):
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2895, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas\_libs\index.pyx", line 70, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 101, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 1675, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 1683, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'tt'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 466, in getPnL
    df['pnl']=(df['ltp']-df['tt'])*df['qq']
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\frame.py", line 2902, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2897, in get_loc
    raise KeyError(key) from err
KeyError: 'tt'
2021-02-02 15:20:22,361:__main__:INFO:Login Successful
2021-02-02 15:20:22,361:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:24,705:__main__:INFO:Cur price of NIFTY is: 14656.15
2021-02-02 15:20:24,705:__main__:INFO:Points changed: 6.449999999998909
2021-02-02 15:20:24,720:__main__:INFO:repair running...
2021-02-02 15:20:24,923:__main__:ERROR:Failed to get PNL
Traceback (most recent call last):
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2895, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas\_libs\index.pyx", line 70, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 101, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 1675, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 1683, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'tt'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 466, in getPnL
    df['pnl']=(df['ltp']-df['tt'])*df['qq']
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\frame.py", line 2902, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2897, in get_loc
    raise KeyError(key) from err
KeyError: 'tt'
2021-02-02 15:20:25,705:__main__:INFO:Login Successful
2021-02-02 15:20:25,705:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:27,423:__main__:ERROR:Failed to get PNL
Traceback (most recent call last):
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2895, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas\_libs\index.pyx", line 70, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 101, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 1675, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 1683, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'tt'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 466, in getPnL
    df['pnl']=(df['ltp']-df['tt'])*df['qq']
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\frame.py", line 2902, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2897, in get_loc
    raise KeyError(key) from err
KeyError: 'tt'
2021-02-02 15:20:28,814:__main__:INFO:Login Successful
2021-02-02 15:20:28,814:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:30,736:__main__:ERROR:Failed to get PNL
Traceback (most recent call last):
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2895, in get_loc
    return self._engine.get_loc(casted_key)
  File "pandas\_libs\index.pyx", line 70, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 101, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 1675, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 1683, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'tt'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python\First_Choice_Git\xts\strategy\Strategy_2.py", line 466, in getPnL
    df['pnl']=(df['ltp']-df['tt'])*df['qq']
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\frame.py", line 2902, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\Welcome\Anaconda3\lib\site-packages\pandas\core\indexes\base.py", line 2897, in get_loc
    raise KeyError(key) from err
KeyError: 'tt'
2021-02-02 15:20:31,976:__main__:INFO:Login Successful
2021-02-02 15:20:31,976:__main__:INFO:Checking CurPnL for this strategy..
2021-02-02 15:20:33,804:__main__:INFO:in finally block.. Closing multi threaded func if running..
2021-02-02 15:20:33,804:__main__:INFO:-- Script Ended --
2021-02-02 15:20:33,820:__main__:INFO:-- --------------------------------------------- --
2021-02-02 15:20:34,211:__main__:INFO:Cur price of NIFTY is: 14654.55
2021-02-02 15:20:34,211:__main__:INFO:Points changed: 4.849999999998545
2021-02-02 15:20:34,211:__main__:INFO:repair running...
2021-02-02 15:54:56,682:__main__:INFO:printing new_dictR value : [{'ss': '39649', 'qq': 75}, {'ss': '39648', 'qq': 75}]
